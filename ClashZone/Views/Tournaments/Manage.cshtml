@model IEnumerable<DataAccess.Models.Tournament>
@{
    // Title for the manage tournaments page.
    ViewData["Title"] = "Zarządzaj turniejami";
}
<div class="container mt-4" style="background-color:#111; padding:20px; border-radius:10px; color:#f8f9fa;">
    <h2 style="color:#FF2B3E;">Zarządzaj turniejami</h2>
    <div class="mb-3 text-end">
        <!-- Link to create a new tournament -->
        <a class="btn" style="background-color:#FF2B3E; color:#fff;" asp-action="Create">Dodaj turniej</a>
    </div>
    @if (!Model.Any())
    {
        <p class="text-muted">Brak nadchodzących turniejów.</p>
    }
    else
    {
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th>Nazwa</th>
                    <th>Data rozpoczęcia</th>
                    <th>Format</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var t in Model)
                {
                    <tr>
                        <td>@t.Name</td>
                        <td>@t.StartDate.ToString("dd.MM.yyyy HH:mm")</td>
                        <td>@t.Format</td>
                        <td class="text-end">
                            <a class="btn btn-sm" style="background-color:#FF2B3E; color:#fff; margin-right:5px;" asp-action="Edit" asp-route-id="@t.Id">Edytuj</a>
                            @if (User.IsInRole("Admin"))
                            {
                                <a class="btn btn-sm" style="background-color:#FF2B3E; color:#fff;" asp-action="Delete" asp-route-id="@t.Id" onclick="return confirm('Czy na pewno chcesz usunąć ten turniej?');">Usuń</a>
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>